<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Couchbase Lite: CBLManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Couchbase Lite</div>
   <div id="projectbrief">Objective-C API for iOS and Mac OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('interfaceCBLManager.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">CBLManager Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="CBLManager" -->
<p>Top-level CouchbaseLite object; manages a collection of databases as a CouchDB server does.  
 <a href="interfaceCBLManager.html#details">More...</a></p>

<p><code>#import &lt;<a class="el" href="CBLManager_8h_source.html">CBLManager.h</a>&gt;</code></p>

<p><a href="classCBLManager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#a9a2ea25aadcc8ed8b1839a6b6e5e03bb">init</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default initializer.  <a href="#a9a2ea25aadcc8ed8b1839a6b6e5e03bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(id)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#a952cc33cad91bf7279f4c3e034f5d41c">initWithDirectory:options:error:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a CouchbaseLite manager that stores its data at the given path.  <a href="#a952cc33cad91bf7279f4c3e034f5d41c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#a6c239ed5a76947899839bc9448b7d296">close</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases all resources used by the <a class="el" href="interfaceCBLManager.html" title="Top-level CouchbaseLite object; manages a collection of databases as a CouchDB server does...">CBLManager</a> instance and closes all its databases.  <a href="#a6c239ed5a76947899839bc9448b7d296"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#a2480f887922246391492d8fff82d0add">databaseNamed:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database with the given name, or nil if it doesn't exist.  <a href="#a2480f887922246391492d8fff82d0add"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#a068f9fcdeb48b49baa28794271552b67">objectForKeyedSubscript:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Same as -databaseNamed:.  <a href="#a068f9fcdeb48b49baa28794271552b67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#a0649abf3a3eb8b434a8bc3c548e058b5">createDatabaseNamed:error:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the database with the given name, creating it if it didn't already exist.  <a href="#a0649abf3a3eb8b434a8bc3c548e058b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(BOOL)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interfaceCBLManager.html#ac6ac00c66002cf03ee341f8ece5dbb9d">replaceDatabaseNamed:withDatabaseFile:withAttachments:error:</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Replaces or installs a database from a file.  <a href="#ac6ac00c66002cf03ee341f8ece5dbb9d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interfaceCBLManager.html">CBLManager</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interfaceCBLManager.html#a4b931241dd38bf8531e72189ffdded95">sharedInstance</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A shared per-process instance.  <a href="#a4b931241dd38bf8531e72189ffdded95"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLManager.html#ac8ceb154c7e6a854b4d1cb47e8a8388b">allDatabaseNames</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An array of the names of all existing databases.  <a href="#ac8ceb154c7e6a854b4d1cb47e8a8388b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">NSURL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceCBLManager.html#aa949c5be7c40d7c4b062788f17526a5e">internalURL</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The 'cbl:' URL of the database manager's REST API.  <a href="#aa949c5be7c40d7c4b062788f17526a5e"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Top-level CouchbaseLite object; manages a collection of databases as a CouchDB server does. </p>
<p>A <a class="el" href="interfaceCBLManager.html" title="Top-level CouchbaseLite object; manages a collection of databases as a CouchDB server does...">CBLManager</a> and all the objects descending from it may only be used on a single thread. To work with databases on another thread, create a new <a class="el" href="interfaceCBLManager.html" title="Top-level CouchbaseLite object; manages a collection of databases as a CouchDB server does...">CBLManager</a> instance for that thread (and be sure to use the .noReplicator option.) The easist way to do this is simply to call -copy on the existing manager. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4b931241dd38bf8531e72189ffdded95"></a><!-- doxytag: member="CBLManager::sharedInstance" ref="a4b931241dd38bf8531e72189ffdded95" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interfaceCBLManager.html">CBLManager</a>*) sharedInstance </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A shared per-process instance. </p>
<p>This should only be used on the main thread. </p>

</div>
</div>
<a class="anchor" id="a9a2ea25aadcc8ed8b1839a6b6e5e03bb"></a><!-- doxytag: member="CBLManager::init" ref="a9a2ea25aadcc8ed8b1839a6b6e5e03bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) init </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default initializer. </p>
<p>Stores databases in the default Application Support directory. </p>

</div>
</div>
<a class="anchor" id="a952cc33cad91bf7279f4c3e034f5d41c"></a><!-- doxytag: member="CBLManager::initWithDirectory:options:error:" ref="a952cc33cad91bf7279f4c3e034f5d41c" args="(NSString *directory,[options] const CBLManagerOptions *options,[error] NSError **outError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id) initWithDirectory: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>directory</em></td>
        </tr>
        <tr>
          <td class="paramkey">options:</td>
          <td></td>
          <td class="paramtype">(const <a class="el" href="structCBLManagerOptions.html">CBLManagerOptions</a> *)&#160;</td>
          <td class="paramname"><em>options</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a CouchbaseLite manager that stores its data at the given path. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">directory</td><td>Path to data directory. If it doesn't already exist it will be created. </td></tr>
    <tr><td class="paramname">options</td><td>If non-NULL, a pointer to options (read-only and no-replicator). </td></tr>
    <tr><td class="paramname">outError</td><td>On return, the error if any. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c239ed5a76947899839bc9448b7d296"></a><!-- doxytag: member="CBLManager::close" ref="a6c239ed5a76947899839bc9448b7d296" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) close </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Releases all resources used by the <a class="el" href="interfaceCBLManager.html" title="Top-level CouchbaseLite object; manages a collection of databases as a CouchDB server does...">CBLManager</a> instance and closes all its databases. </p>

</div>
</div>
<a class="anchor" id="a2480f887922246391492d8fff82d0add"></a><!-- doxytag: member="CBLManager::databaseNamed:" ref="a2480f887922246391492d8fff82d0add" args="(NSString *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a>*) databaseNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the database with the given name, or nil if it doesn't exist. </p>
<p>Multiple calls with the same name will return the same CouchDatabase instance. </p>

</div>
</div>
<a class="anchor" id="a068f9fcdeb48b49baa28794271552b67"></a><!-- doxytag: member="CBLManager::objectForKeyedSubscript:" ref="a068f9fcdeb48b49baa28794271552b67" args="(NSString *key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a>*) objectForKeyedSubscript: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>key</em></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Same as -databaseNamed:. </p>
<p>Enables "[]" access in Xcode 4.4+ </p>

</div>
</div>
<a class="anchor" id="a0649abf3a3eb8b434a8bc3c548e058b5"></a><!-- doxytag: member="CBLManager::createDatabaseNamed:error:" ref="a0649abf3a3eb8b434a8bc3c548e058b5" args="(NSString *name,[error] NSError **outError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interfaceCBLDatabase.html">CBLDatabase</a>*) createDatabaseNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>name</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the database with the given name, creating it if it didn't already exist. </p>
<p>Multiple calls with the same name will return the same CouchDatabase instance. NOTE: Database names may not contain capital letters! </p>

</div>
</div>
<a class="anchor" id="ac6ac00c66002cf03ee341f8ece5dbb9d"></a><!-- doxytag: member="CBLManager::replaceDatabaseNamed:withDatabaseFile:withAttachments:error:" ref="ac6ac00c66002cf03ee341f8ece5dbb9d" args="(NSString *databaseName,[withDatabaseFile] NSString *databasePath,[withAttachments] NSString *attachmentsPath,[error] NSError **outError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) replaceDatabaseNamed: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>databaseName</em></td>
        </tr>
        <tr>
          <td class="paramkey">withDatabaseFile:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>databasePath</em></td>
        </tr>
        <tr>
          <td class="paramkey">withAttachments:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>attachmentsPath</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(NSError **)&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Replaces or installs a database from a file. </p>
<p>This is primarily used to install a canned database on first launch of an app, in which case you should first check .exists to avoid replacing the database if it exists already. The canned database would have been copied into your app bundle at build time. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseName</td><td>The name of the database to replace. </td></tr>
    <tr><td class="paramname">databasePath</td><td>Path of the database file that should replace it. </td></tr>
    <tr><td class="paramname">attachmentsPath</td><td>Path of the associated attachments directory, or nil if there are no attachments. </td></tr>
    <tr><td class="paramname">outError</td><td>If an error occurs, it will be stored into this parameter on return. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>YES if the database was copied, NO if an error occurred. </dd></dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="ac8ceb154c7e6a854b4d1cb47e8a8388b"></a><!-- doxytag: member="CBLManager::allDatabaseNames" ref="ac8ceb154c7e6a854b4d1cb47e8a8388b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray*) allDatabaseNames<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An array of the names of all existing databases. </p>

</div>
</div>
<a class="anchor" id="aa949c5be7c40d7c4b062788f17526a5e"></a><!-- doxytag: member="CBLManager::internalURL" ref="aa949c5be7c40d7c4b062788f17526a5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSURL*) internalURL<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The 'cbl:' URL of the database manager's REST API. </p>
<p>Only available if you've linked with the CouchbaseLiteListener framework. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Source/API/<a class="el" href="CBLManager_8h_source.html">CBLManager.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="interfaceCBLManager.html">CBLManager</a>      </li>
      <li class="footer">Generated on Fri Feb 1 2013 14:32:40 for Couchbase Lite by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Properties</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
